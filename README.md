# 外星人入侵游戏 (Alien Invasion)

一个使用Python和Pygame开发的完整外星人入侵射击游戏。

## 🎮 游戏特色

- 🚀 **流畅的飞船控制系统** - 支持四向移动，操控精准
- 👾 **随机外星人系统** - 随机生成外星人，边缘反弹AI
- 💥 **完整音效系统** - 射击、爆炸音效，沉浸式体验
- 🎵 **背景音乐系统** - 循环背景音乐，可M键控制
- 💯 **完整计分系统** - 实时分数显示，等级递增
- 🏆 **排行榜功能** - 本地存储前10名，支持中文输入
- ❤️ **3条生命系统** - 被击中后1秒无敌时间，增加挑战性

## 🕹️ 游戏控制

| 控制方式 | 功能说明 |
|---------|---------|
| **方向键 (↑↓←→)** | 控制飞船四向移动 |
| **空格键** | 发射子弹 |
| **L键** | 查看排行榜（游戏中随时可用） |
| **M键** | 暂停/恢复背景音乐 |
| **ESC键** | 关闭排行榜/退出输入界面 |
| **Q键** | 快速退出游戏 |
| **鼠标点击** | 点击按钮操作 |

## 🚀 快速开始

### 系统要求
- **Python版本**: 3.8+ (推荐 3.8+)
- **操作系统**: Windows / macOS / Linux
- **硬件**: 支持音频输出设备

### 安装和运行

#### 1. 安装依赖
```bash
# 使用pip安装
pip install -r requirements.txt

# 或手动安装核心依赖
pip install pygame numpy
```

#### 2. 运行游戏
```bash
# 进入游戏目录
cd Alien-invasion

# 启动游戏
python alien_invasion.py
```

#### 3. 首次运行
- 创建排行榜数据文件
- 检测并加载系统字体

#### 4. 验证安装
游戏启动后应显示：
- 外星人入侵标题
- Start Game按钮
- 音效加载成功提示

## 🎯 游戏玩法

### 基础规则
1. **消灭外星人** - 控制飞船射击随机生成的外星人
2. **随机生成系统** - 外星人从屏幕顶部随机位置生成，具有随机速度
3. **边缘反弹** - 外星人碰撞到屏幕边缘会反弹，继续移动
4. **生命系统** - 玩家拥有3条生命，被外星人撞击会失去生命
5. **无敌机制** - 被击中后获得1秒无敌时间，飞船会闪烁提示
6. **游戏结束** - 失去所有生命后游戏结束

### 计分系统
- **基础分数**: 每击毁一个外星人获得基础分
- **等级加成**: 等级越高，分数奖励越多
- **连续击杀**: 快速连续击杀有额外奖励

### 排行榜系统
- **自动记录**: 游戏结束时自动记录高分
- **名字输入**: 达到高分标准时显示名字输入界面
- **随时查看**: 游戏中按L键随时查看排行榜
- **持久存储**: 排行榜数据本地保存，重启不丢失

### 游戏技巧
- 🎯 **精准射击** - 节省子弹，提高效率
- 🚀 **灵活移动** - 利用四向移动躲避外星人
- ⚡ **利用无敌时间** - 被击中后利用1秒无敌时间调整位置
- 🎵 **音乐配合** - 配合背景音乐节奏进行游戏，按M键可控制音乐
- 🏆 **追求高分** - 连续击杀获得更高分数
- 📈 **挑战升级** - 尝试达到更高难度等级

## 🏆 排行榜系统

### 功能特点
- **自动保存**: 游戏结束时自动保存前10名高分
- **完整信息**: 记录玩家名字、分数、等级和游戏时间
- **中文支持**: 完美支持中文名字输入和显示
- **本地存储**: 数据持久化保存，重启游戏不丢失

### 排行榜格式
| 排名 | 玩家 | 分数 | 等级 | 时间 |
|-------|-------|-------|-------|------|
| 1 | Alice | 2,500 | 3 | 2024-01-01 13:00 |
| 2 | Bob | 1,800 | 2 | 2024-01-01 14:00 |
| 3 | Player | 1,000 | 1 | 2024-01-01 12:00 |

### 数据文件
- **文件位置**: `leaderboard.json`
- **数据格式**: UTF-8编码的JSON格式

## 📦 游戏打包

游戏提供了多种打包工具，可以将Python游戏打包成独立的可执行文件，无需安装Python环境即可运行。

### 🚀 快速打包（推荐）

#### Windows用户 - 使用批处理脚本
```bash
# 完整打包（包含音效修复）
build_sound_fixed.bat

# 创建便携版
create_portable.bat
```

#### 所有平台 - 使用Python脚本
```bash
python build_game.py
```

### 📁 打包工具说明

| 打包工具 | 适用平台 | 特点 | 推荐用途 |
|---------|---------|------|---------|
| `build_sound_fixed.bat` | Windows | 完整音效修复、详细中文提示 | **最终发布** |
| `create_portable.bat` | Windows | 创建便携版、包含启动脚本 | **用户分发** |

### 🎯 创建便携版

打包完成后，可以创建完整的便携版本：
```bash
# 先打包再创建便携版
build_sound_fixed.bat
create_portable.bat
```

便携版特点：
- 📁 完整的游戏文件夹
- 🎮 友好的启动脚本
- 📋 详细的游戏说明
- 📤 可直接分享给朋友

### ✅ 打包要求

**必需文件：**
- `alien_invasion.py` - 主程序
- `images/` - 图像资源文件夹
- `sounds/` - 音效资源文件夹
- `leaderboard.json` - 排行榜数据文件

**环境要求：**
- Python 3.8+
- PyInstaller (`pip install pyinstaller`)

### 📊 打包文件说明

**打包结果：**
```
dist/
└── AlienInvasion.exe    # 主程序
```

**便携版结构：**
```
AlienInvasion_Portable/
├── AlienInvasion.exe     # 主程序
├── 开始游戏.bat         # 启动脚本
├── 游戏说明.txt         # 游戏说明
├── images/             # 图像资源
└── sounds/             # 音效资源
```

### 🐛 打包问题排查

1. **音效丢失**：使用 `build_sound_fixed.bat` 而不是手动打包
2. **图像显示异常**：确保 `images/` 文件夹存在且完整
3. **启动失败**：检查 `leaderboard.json` 文件是否包含
4. **字体显示问题**：确认系统有中文字体支持

## 📚 开发说明

游戏采用面向对象设计，主要包含以下核心类：

- `Ship`: 玩家控制的飞船，支持3条生命和无敌机制
- `Alien`: 敌人外星人，支持随机生成、随机速度和边缘反弹
- `Bullet`: 子弹系统
- `GameStats`: 游戏统计信息管理
- `Scoreboard`: 实时分数显示
- `Button`: 通用按钮组件
- `SoundManager`: 音效管理器，支持背景音乐和音效
- `ResourceManager`: 资源路径管理器
- `Leaderboard`: 排行榜数据管理
- `NameInput`: 中文输入界面

## 🎨 自定义选项

可通过修改 `settings.py` 来自定义：
- 屏幕分辨率
- 游戏难度
- 飞船速度
- 子弹数量限制
- 音效设置
- 分数规则

## 🧑‍💻 开发信息

### 项目信息
- **项目类型**: Python课程作业 / 游戏开发实践
- **开发语言**: Python 3.8+
- **游戏引擎**: Pygame 2.6+
- **开发工具**: VSCode / PyCharm / 其他IDE

### 核心特性
- ✅ 完整的OOP设计模式
- ✅ 模块化代码结构
- ✅ 异常处理和错误恢复
- ✅ 用户友好的界面设计
- ✅ 数据持久化解决方案
- ✅ 跨平台资源管理

## 🚀 未来计划

- [ ] 添加更多敌人类型
- [ ] 实现道具系统
- [ ] 添加更多背景音乐选择
- [ ] 支持多人游戏模式
- [ ] 添加成就系统

## 📄 许可证

本项目仅供学习和教学使用。

### 使用说明
- 允许学习和研究代码
- 允许基于本项目的二次开发
- 请保留原始版权信息

### 联系方式
如有问题或建议，欢迎反馈和交流。

---