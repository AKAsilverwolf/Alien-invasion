# 外星人入侵游戏 (Alien Invasion)

一个使用Python和Pygame开发的完整外星人入侵射击游戏。

## 🎮 游戏特色

- 🚀 **流畅的飞船控制系统** - 支持四向移动，操控精准
- 👾 **外星人编队AI** - 智能编队移动，自动射击
- 💥 **完整音效系统** - 射击、爆炸音效，沉浸式体验
- 🌌 **精美星空背景** - 程序化生成，视觉效果出众
- 💯 **完整计分系统** - 实时分数显示，等级递增
- 🏆 **排行榜功能** - 本地存储前10名，支持中文输入
- ❤️ **生命值系统** - 多条生命，增加挑战性
- 📈 **难度递增系统** - 随等级提升，游戏更具挑战性
- 🎯 **中文字体支持** - 完美中文显示，本地化体验

## 🎮 游戏特色

- 🚀 流畅的飞船控制系统
- 👾 外星人编队AI
- 💥 完整的音效系统（射击、爆炸、游戏结束）
- 🌌 精美的星空背景
- 💯 完整的计分系统
- 🏆 排行榜功能（本地存储前10名）
- ❤️ 生命值系统
- 📈 难度递增系统
- 🎯 中文字体支持

## 🕹️ 游戏控制

| 控制方式 | 功能说明 |
|---------|---------|
| **方向键 (↑↓←→)** | 控制飞船四向移动 |
| **空格键** | 发射子弹 |
| **L键** | 查看排行榜（游戏中随时可用） |
| **ESC键** | 关闭排行榜/退出输入界面 |
| **Q键** | 快速退出游戏 |
| **鼠标点击** | 点击按钮操作 |

## 🚀 快速开始

### 代码入口
主程序入口文件：`alien_invasion.py`

### 系统要求
- **Python版本**: 3.6+ (推荐 3.8+)
- **操作系统**: Windows / macOS / Linux
- **硬件**: 支持音频输出设备

### 安装和运行

#### 1. 安装依赖
```bash
# 使用pip安装
pip install -r requirements.txt

# 或手动安装核心依赖
pip install pygame numpy
```

#### 2. 运行游戏
```bash
# 进入游戏目录
cd Alien-invasion

# 启动游戏
python alien_invasion.py
```

#### 3. 首次运行
- 自动生成游戏图像文件
- 创建排行榜数据文件
- 检测并加载系统字体

#### 4. 验证安装
游戏启动后应显示：
- 外星人入侵标题
- Start Game按钮
- 音效加载成功提示

## 🎯 游戏玩法

### 基础规则
1. **消灭外星人** - 控制飞船射击屏幕上的所有外星人
2. **难度递增** - 每消灭一波外星人，游戏速度和难度增加
3. **生命系统** - 外星人到达屏幕底部或撞击飞船会失去生命
4. **游戏结束** - 失去所有生命后游戏结束

### 计分系统
- **基础分数**: 每击毁一个外星人获得基础分
- **等级加成**: 等级越高，分数奖励越多
- **连续击杀**: 快速连续击杀有额外奖励

### 排行榜系统
- **自动记录**: 游戏结束时自动记录高分
- **名字输入**: 达到高分标准时显示名字输入界面
- **随时查看**: 游戏中按L键随时查看排行榜
- **持久存储**: 排行榜数据本地保存，重启不丢失

### 游戏技巧
- 🎯 **精准射击** - 节省子弹，提高效率
- 🚀 **灵活移动** - 利用四向移动躲避外星人
- 🏆 **追求高分** - 连续击杀获得更高分数
- 📈 **挑战升级** - 尝试达到更高难度等级

## 🏆 排行榜系统

### 功能特点
- **自动保存**: 游戏结束时自动保存前10名高分
- **完整信息**: 记录玩家名字、分数、等级和游戏时间
- **中文支持**: 完美支持中文名字输入和显示
- **本地存储**: 数据持久化保存，重启游戏不丢失

### 排行榜格式
| 排名 | 玩家 | 分数 | 等级 | 时间 |
|-------|-------|-------|-------|------|
| 1 | Alice | 2,500 | 3 | 2024-01-01 13:00 |
| 2 | Bob | 1,800 | 2 | 2024-01-01 14:00 |
| 3 | Player | 1,000 | 1 | 2024-01-01 12:00 |

### 数据文件
- **文件位置**: `leaderboard.json`
- **数据格式**: UTF-8编码的JSON格式
- **备份建议**: 定期备份排行榜文件

## 🔧 项目结构

```
Alien-invasion/
├── alien_invasion.py      # 主游戏文件
├── settings.py             # 游戏设置
├── ship.py                 # 飞船类
├── alien.py                # 外星人类
├── bullet.py               # 子弹类
├── game_functions.py       # 游戏函数
├── game_stats.py           # 游戏统计
├── scoreboard.py           # 记分牌显示
├── button.py               # 游戏按钮
├── sound_manager.py        # 音效管理器
├── leaderboard.py          # 排行榜管理
├── name_input.py           # 名字输入界面
├── create_images.py        # 图像生成脚本
├── images/                 # 游戏图像
│   ├── ship.bmp           # 飞船图像
│   ├── alien.bmp          # 外星人图像
│   └── background.bmp     # 星空背景
├── sounds/                 # 音效文件目录
├── leaderboard.json        # 排行榜数据文件
├── requirements.txt        # 依赖文件
└── README.md              # 说明文档
```

## 🛠️ 技术特点

### 音效系统
- 程序化生成音效，无需外部音频文件
- 支持射击、爆炸、游戏结束音效
- 音量可调节
- 优雅的降级处理（无音频设备时仍可运行）

### 图形系统
- 程序化生成游戏图像
- 星空背景带随机星星
- 中文字体自动检测和加载

### 数据持久化
- JSON格式存储排行榜数据
- UTF-8编码支持中文
- 自动备份和恢复

## 📚 开发说明

游戏采用面向对象设计，主要包含以下核心类：

- `Ship`: 玩家控制的飞船
- `Alien`: 敌人外星人，支持编队移动
- `Bullet`: 子弹系统
- `GameStats`: 游戏统计信息管理
- `Scoreboard`: 实时分数显示
- `Button`: 通用按钮组件
- `SoundManager`: 音效管理器
- `Leaderboard`: 排行榜数据管理
- `NameInput`: 中文输入界面

## 🎨 自定义选项

可通过修改 `settings.py` 来自定义：
- 屏幕分辨率
- 游戏难度
- 飞船速度
- 子弹数量限制
- 音效设置
- 分数规则

## 🐛 故障排除

1. **中文显示乱码**: 确保系统安装了中文字体
2. **音效无法播放**: 检查音频设备是否正常
3. **游戏卡顿**: 降低游戏难度设置
4. **图像无法加载**: 重新运行 `create_images.py`

## 🧑‍💻 开发信息

### 项目信息
- **项目类型**: Python课程作业 / 游戏开发实践
- **开发语言**: Python 3.8+
- **游戏引擎**: Pygame 2.6+
- **开发工具**: VSCode / PyCharm / 其他IDE

### 核心特性
- ✅ 完整的OOP设计模式
- ✅ 模块化代码结构
- ✅ 异常处理和错误恢复
- ✅ 用户友好的界面设计
- ✅ 数据持久化解决方案

### 版本历史
- **v1.0** - 基础游戏功能
- **v2.0** - 音效系统集成
- **v3.0** - 排行榜和UI优化
- **v4.0** - 四向移动和界面美化

## 📄 许可证

本项目仅供学习和教学使用。

### 使用说明
- 允许学习和研究代码
- 允许基于本项目的二次开发
- 请保留原始版权信息

### 联系方式
如有问题或建议，欢迎反馈和交流。

---

**🎮 享受游戏，祝你获得高分！**
